<!DOCTYPE>
<html lan="en">
    <head>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <title>Google API</title>

        <style>
            body {
                background-color: lightgray;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            #map {
                min-height: 400px;
            }
            header {
                font-size: 50px;
                text-align: center;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script>
            var map; 
            function submitForm(){
                var configAjaxMaps = {
                    url: 'https://maps.googleapis.com/maps/api/geocode/json',
                    data: {
                        address: document.getElementById('localidadeInput').value,
                        key: 'AIzaSyDLzweGeeB1vUXYqB-hR2Uk3_i9fbF3EuA'
                    },
                    success: function(data){

                        var lat = data.results[0].geometry.location.lat;
                        var long = data.results[0].geometry.location.lng;
                        var myCenter = new google.maps.LatLng(lat, long);
                        var marker = new google.maps.Marker({position: myCenter, });
                        marker.setMap(map);                        
                        map.setCenter (myCenter);
                    }
                };
                $.ajax(configAjaxMaps);
            }
        </script>
    </head>
    
    <body>
                
        <div class="container-fluid">
            <div class="row">
                <header class="col-md-12" id="header">BUSCA LOCALIDADE</header>
            </div>
        
            <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="localidadeInput">Local</label>
                    <input type="text" class="form-control" id="localidadeInput">
                  </div>
                  <button class="btn btn-lg btn-default" onclick="submitForm()">Buscar</button>
                </div>
                <div class="col-md-8">
                    <div id="map"></div>
                </div>
            </div>
        </div>
        
        <script>
          function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
              zoom: 8,
              center: {lat: -34.397, lng: 150.644}
                });
            }   
        </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDLzweGeeB1vUXYqB-hR2Uk3_i9fbF3EuA&callback=initMap">
        </script>
        
    </body>
</html>
